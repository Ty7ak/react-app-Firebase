(this["webpackJsonpfirebase-app"]=this["webpackJsonpfirebase-app"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),a=n(31),i=n.n(a),r=(n(38),n(9)),o=(n(39),n(13)),l=n(20),j=n(21),u=n(23),b=n(22),d=n(1),h=function(e){var t=e.onChange,n=e.onKeyDown,s=e.text;return Object(d.jsx)("input",{name:"newItemText",type:"text",value:s,onChange:t,onKeyDown:n})},O=(c.a.Component,function(e){var t=e.text.split("/");return Object(d.jsxs)("div",{className:"item-list",children:[Object(d.jsx)("div",{className:"item-name",children:t[0]}),Object(d.jsx)("div",{className:"item-desc",children:t[1]})]})}),p=function(e){var t=e.sList.map((function(e){return Object(d.jsx)(O,{text:e},e)}));return Object(d.jsxs)("div",{className:"list-box",children:[Object(d.jsx)("button",{className:"update-btn",onClick:e.adder,children:"Update posts"}),Object(d.jsx)("ul",{children:t})]})},x=n(26),m=n.n(x),f=n(32),g=n(17);n(42),n(50);g.a.apps.length?g.a.app():g.a.initializeApp({apiKey:"AIzaSyD5HA8mDYBibufzh0vZvpn7jamPoAer5RU",authDomain:"piw-firebase.firebaseapp.com",projectId:"piw-firebase",storageBucket:"piw-firebase.appspot.com",messagingSenderId:"365632705471",appId:"1:365632705471:web:b8e604d421bde982e9c70a",measurementId:"G-X9RTEQB4DJ"});var v=g.a.auth(),w=g.a.firestore(),N=function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.collection("posts").add({owner:t.uid,ownerName:t.displayName,dateCreated:g.a.firestore.FieldValue.serverTimestamp(),text:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=n(5),y=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],j=Object(s.useState)(!1),u=Object(r.a)(j,2),b=u[0],h=u[1];return b?Object(d.jsx)(C.a,{to:"/"}):Object(d.jsx)("div",{className:"boxes-container",children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("label",{htmlFor:"login",children:["Login",Object(d.jsx)("input",{className:"form-input",placeholder:"Email",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(d.jsxs)("label",{htmlFor:"password",children:["Password",Object(d.jsx)("input",{className:"form-input",placeholder:"Has\u0142o",type:"password",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(d.jsx)("button",{onClick:function(){v.signInWithEmailAndPassword(n,o).then((function(e){h(!0),console.log("zalogowano")})).catch((function(e){console.log(e)}))},children:"Login"})]})})},k=Object(s.createContext)({message:"",setMessage:function(){}}),S=[],L=function(){var e=Object(s.useContext)(k),t=e.message,n=e.setMessage;return Object(d.jsx)("div",{className:"boxes-container",children:Object(d.jsxs)("label",{children:["Enter message",Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("input",{className:"input2",value:t,onChange:function(e){return n(e.target.value)}}),Object(d.jsx)("button",{onClick:function(){N(v.currentUser,t)},children:"Dodaj post"}),Object(d.jsx)("button",{onClick:function(){S=[],w.collection("posts").get().then((function(e){e.forEach((function(e){S.push(e.data().ownerName.toString()+"/"+e.data().text.toString())})),console.log(S)}))},children:"Pobierz posty"})]})]})})},E=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1],j=Object(s.useState)(""),u=Object(r.a)(j,2),b=u[0],h=u[1],O=Object(s.useState)(!1),p=Object(r.a)(O,2),x=p[0],m=p[1];return x?Object(d.jsx)(C.a,{to:"/"}):Object(d.jsx)("div",{className:"boxes-container",children:Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("label",{htmlFor:"displayName",children:"Nazwa u\u017cytkownika"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{id:"displayName",name:"username",className:"input2",value:b,placeholder:"Nazwa u\u017cytkownika",onChange:function(e){return h(e.target.value)}})}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{id:"email",type:"email",name:"email",className:"input2",value:n,placeholder:"Email",onChange:function(e){return c(e.target.value)}})}),Object(d.jsx)("label",{htmlFor:"password",children:"Haslo"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{id:"password",name:"password",type:"password",className:"input2",value:o,placeholder:"Has\u0142o",onChange:function(e){return l(e.target.value)}})}),Object(d.jsx)("button",{onClick:function(){v.createUserWithEmailAndPassword(n,o).then((function(){v.signInWithEmailAndPassword(n,o).then((function(e){e.user.updateProfile({displayName:b}).catch((function(e){console.log(e)})),m(!0)}))})).catch((function(e){console.log(e)}))},children:"Utw\xf3rz konto"})]})})},P=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={sList:[]},e.adder=function(){for(console.log("updating the list");e.state.sList.length>0;)e.setState({sList:e.state.sList.pop()});null!=v.currentUser&&S.forEach((function(t){e.setState({sList:e.state.sList.concat(S)})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(C.d,{children:[Object(d.jsx)(C.b,{path:"/",exact:!0,children:Object(d.jsx)("section",{children:Object(d.jsx)(p,{sList:this.state.sList,adder:this.adder})})}),Object(d.jsx)(C.b,{path:"/login",children:Object(d.jsx)("section",{children:Object(d.jsx)(y,{})})}),Object(d.jsx)(C.b,{path:"/register",children:Object(d.jsx)("section",{children:Object(d.jsx)(E,{})})}),Object(d.jsx)(C.b,{path:"/messager",children:Object(d.jsx)("section",{children:Object(d.jsx)(L,{})})}),Object(d.jsx)(C.b,{children:Object(d.jsx)("section",{children:Object(d.jsx)("h1",{children:"Error 404 - not found"})})})]})}}]),n}(c.a.Component),F=function(){var e=Object(s.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){var e=v.onAuthStateChanged((function(e){e?c(e):console.log("User no logged")}));return function(){return e()}}),[]);return console.log(v.currentUser),n?Object(d.jsxs)("div",{className:"topnav",children:[Object(d.jsx)(o.b,{to:"/",exact:!0,onClick:P.adder,children:"Posts"}),Object(d.jsx)(o.b,{to:"/messager",children:"Messager"}),Object(d.jsx)("a",{href:"/",className:"nav-button",onClick:function(){v.signOut()},children:"Wyloguj"})]}):Object(d.jsxs)("div",{className:"topnav",children:[Object(d.jsx)(o.b,{to:"/",exact:!0,children:"User List"}),Object(d.jsx)(o.b,{to:"/login",children:"Login"}),Object(d.jsx)(o.b,{to:"/register",children:"Register"}),Object(d.jsx)(o.b,{to:"/messager",children:"Messager"})]})};var I=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(d.jsx)(o.a,{children:Object(d.jsxs)(k.Provider,{value:{message:n,setMessage:c},children:[Object(d.jsx)("h1",{children:"Project Tinder"}),Object(d.jsx)("h2",{children:"By Maciej Tylak"}),Object(d.jsxs)("main",{children:[Object(d.jsx)(F,{}),Object(d.jsx)("br",{}),Object(d.jsx)(P,{})]})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(I,{})}),document.getElementById("root")),A()}},[[49,1,2]]]);
//# sourceMappingURL=main.2652931e.chunk.js.map