(this["webpackJsonpfirebase-app"]=this["webpackJsonpfirebase-app"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),a=n(31),r=n.n(a),i=(n(38),n(9)),o=(n(39),n(13)),l=n(20),j=n(21),u=n(23),d=n(22),b=n(1),h=function(e){var t=e.onChange,n=e.onKeyDown,s=e.text;return Object(b.jsx)("input",{name:"newItemText",type:"text",value:s,onChange:t,onKeyDown:n})},O=(c.a.Component,function(e){var t=e.text.split("/");return Object(b.jsxs)("div",{className:"item-list",children:[Object(b.jsx)("div",{className:"item-name",children:t[0]}),Object(b.jsx)("div",{className:"item-desc",children:t[1]})]})}),p=function(e){var t=e.sList.map((function(e){return Object(b.jsx)(O,{text:e},e)}));return Object(b.jsxs)("div",{className:"list-box",children:[Object(b.jsx)("button",{className:"update-btn",onClick:e.adder,children:"Update posts"}),Object(b.jsx)("ul",{children:t})]})},x=n(26),m=n.n(x),f=n(32),g=n(17);n(42),n(50);g.a.apps.length?g.a.app():g.a.initializeApp({apiKey:"AIzaSyD5HA8mDYBibufzh0vZvpn7jamPoAer5RU",authDomain:"piw-firebase.firebaseapp.com",projectId:"piw-firebase",storageBucket:"piw-firebase.appspot.com",messagingSenderId:"365632705471",appId:"1:365632705471:web:b8e604d421bde982e9c70a",measurementId:"G-X9RTEQB4DJ"});var v=g.a.auth(),w=g.a.firestore(),N=function(){var e=Object(f.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.collection("posts").add({owner:t.uid,ownerName:t.displayName,dateCreated:g.a.firestore.FieldValue.serverTimestamp(),text:n});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=n(5),y=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),o=r[0],l=r[1],j=Object(s.useState)(!1),u=Object(i.a)(j,2),d=u[0],h=u[1];return d?Object(b.jsx)(C.a,{to:"/"}):Object(b.jsx)("div",{className:"boxes-container",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{htmlFor:"login",children:["Login",Object(b.jsx)("input",{className:"form-input",placeholder:"Email",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(b.jsxs)("label",{htmlFor:"password",children:["Password",Object(b.jsx)("input",{className:"form-input",placeholder:"Password",type:"password",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(b.jsx)("button",{onClick:function(){v.signInWithEmailAndPassword(n,o).then((function(e){h(!0),console.log("zalogowano")})).catch((function(e){console.log(e)}))},children:"Login"})]})})},S=Object(s.createContext)({message:"",setMessage:function(){}}),L=[],k=function(){var e=Object(s.useContext)(S),t=e.message,n=e.setMessage;return Object(b.jsx)("div",{className:"boxes-container",children:Object(b.jsxs)("label",{children:["Enter message",Object(b.jsxs)("div",{className:"form",children:[Object(b.jsx)("input",{className:"input2",value:t,onChange:function(e){return n(e.target.value)}}),Object(b.jsx)("button",{onClick:function(){N(v.currentUser,t)},children:"Add post"}),Object(b.jsx)("button",{onClick:function(){L=[],w.collection("posts").get().then((function(e){e.forEach((function(e){L.push(e.data().ownerName.toString()+"/"+e.data().text.toString())})),console.log(L)}))},children:"Get posts"})]})]})})},P=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),o=r[0],l=r[1],j=Object(s.useState)(""),u=Object(i.a)(j,2),d=u[0],h=u[1],O=Object(s.useState)(!1),p=Object(i.a)(O,2),x=p[0],m=p[1];return x?Object(b.jsx)(C.a,{to:"/"}):Object(b.jsx)("div",{className:"boxes-container",children:Object(b.jsxs)("div",{className:"form",children:[Object(b.jsx)("label",{htmlFor:"displayName",children:"Username"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"displayName",name:"username",className:"input2",value:d,placeholder:"Username",onChange:function(e){return h(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"email",type:"email",name:"email",className:"input2",value:n,placeholder:"Email",onChange:function(e){return c(e.target.value)}})}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{id:"password",name:"password",type:"password",className:"input2",value:o,placeholder:"Password",onChange:function(e){return l(e.target.value)}})}),Object(b.jsx)("button",{onClick:function(){v.createUserWithEmailAndPassword(n,o).then((function(){v.signInWithEmailAndPassword(n,o).then((function(e){e.user.updateProfile({displayName:d}).catch((function(e){console.log(e)})),m(!0)}))})).catch((function(e){console.log(e)}))},children:"Utw\xf3rz konto"})]})})},E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,c=new Array(s),a=0;a<s;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={sList:[]},e.adder=function(){for(console.log("updating the list");e.state.sList.length>0;)e.setState({sList:e.state.sList.pop()});null!=v.currentUser&&L.forEach((function(t){e.setState({sList:e.state.sList.concat(L)})}))},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(b.jsxs)(C.d,{children:[Object(b.jsx)(C.b,{path:"/",exact:!0,children:Object(b.jsx)("section",{children:Object(b.jsx)(p,{sList:this.state.sList,adder:this.adder})})}),Object(b.jsx)(C.b,{path:"/login",children:Object(b.jsx)("section",{children:Object(b.jsx)(y,{})})}),Object(b.jsx)(C.b,{path:"/register",children:Object(b.jsx)("section",{children:Object(b.jsx)(P,{})})}),Object(b.jsx)(C.b,{path:"/messager",children:Object(b.jsx)("section",{children:Object(b.jsx)(k,{})})}),Object(b.jsx)(C.b,{children:Object(b.jsx)("section",{children:Object(b.jsx)("h1",{children:"Error 404 - not found"})})})]})}}]),n}(c.a.Component),U=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){var e=v.onAuthStateChanged((function(e){e?c(e):console.log("User no logged")}));return function(){return e()}}),[]);return console.log(v.currentUser),n?Object(b.jsxs)("div",{className:"topnav",children:[Object(b.jsx)(o.b,{to:"/",exact:!0,onClick:E.adder,children:"Posts"}),Object(b.jsx)(o.b,{to:"/messager",children:"Messager"}),Object(b.jsx)("a",{href:"/",className:"nav-button",onClick:function(){v.signOut()},children:"Wyloguj"})]}):Object(b.jsxs)("div",{className:"topnav",children:[Object(b.jsx)(o.b,{to:"/",exact:!0,children:"User List"}),Object(b.jsx)(o.b,{to:"/login",children:"Login"}),Object(b.jsx)(o.b,{to:"/register",children:"Register"}),Object(b.jsx)(o.b,{to:"/messager",children:"Messager"})]})};var A=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(b.jsx)(o.a,{children:Object(b.jsxs)(S.Provider,{value:{message:n,setMessage:c},children:[Object(b.jsx)("h1",{children:"Project Tinder"}),Object(b.jsx)("h2",{children:"By Maciej Tylak"}),Object(b.jsxs)("main",{children:[Object(b.jsx)(U,{}),Object(b.jsx)("br",{}),Object(b.jsx)(E,{})]})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),F()}},[[49,1,2]]]);
//# sourceMappingURL=main.b0bfdfca.chunk.js.map